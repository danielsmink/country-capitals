"use strict";function config(e){e.when("/",{templateUrl:"./js/partials/home/home.html"}).when("/countries",{templateUrl:"./js/partials/countries/countries.html",controller:"CountriesCtrl",controllerAs:"countries"}).when("/countries/:country",{templateUrl:"./js/partials/country-detail/country-detail.html",controller:"CountryDetailCtrl",controllerAs:"country"}).when("/error",{template:"<p>Error Page Not Found</p>"}).otherwise({redirectTo:"/error"})}function CountriesCtrl(e,r,t){var o=this,n=t.get("countries");o.ordering="countryName",o.go=function(t,o){r.setIsoCode(o),e.path(t)},n?o.geonames=n:r.getCountries().success(function(e){t.put("countries",e.geonames),o.geonames=t.get("countries")}).error(function(){o.error="Error retrieving country list"})}function CountryDetailCtrl(e,r,t){var o=this,n=e.country,a=r.isoCode,i=t.get(a);i?o.detail=i:r.getCountry(n).success(function(e){0===e.geonames.length?o.error="Error retrieving country":(t.put(a,e.geonames[0]),o.detail=t.get(a))}).error(function(){o.error="Error retrieving country list"})}function geonamesCache(e){return e(name)}function geonamesService(e,r,t){function o(){return e({method:"JSONP",url:t+"/countryInfoJSON",params:{callback:"JSON_CALLBACK",username:r}})}function n(o){return e({method:"JSONP",url:t+"/searchJSON",params:{callback:"JSON_CALLBACK",username:r,q:o,country:u.isoCode,name_equals:o,isNameRequired:!0}})}function a(e){u.isoCode=e}var i="",u={getCountries:o,getCountry:n,isoCode:i,setIsoCode:a};return u}angular.module("countryCapitals.config",[]).constant("geoApiUsername","danielsmink").constant("apiBaseUrl","http://api.geonames.org/"),angular.module("countryCapitals",["ngRoute","countryCapitals.config"]),angular.module("countryCapitals").config(config),config.$inject=["$routeProvider"],angular.module("CountriesCtrl",CountriesCtrl),CountriesCtrl.$inject=["$location","geonamesService","geonamesCache"],angular.module("CountryDetailCtrl",CountryDetailCtrl),CountryDetailCtrl.$inject=["$routeParams","geonamesService","geonamesCache"],angular.module("countryCapitals").factory("geonamesCache",geonamesCache),geonamesCache.$inject=["$cacheFactory"],angular.module("countryCapitals").factory("geonamesService",geonamesService),geonamesService.$inject=["$http","geoApiUsername","apiBaseUrl"];
//# sourceMappingURL=country-capitals.min.js.map